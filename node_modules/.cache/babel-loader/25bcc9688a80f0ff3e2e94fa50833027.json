{"ast":null,"code":"function _delay_animation(callback) {\n  callback(Date.now()); // XXX: performance.now()\n\n  return -1;\n}\n\nconst delay_animation = (typeof window !== 'undefined' ? window.requestAnimationFrame : undefined) || (typeof window !== 'undefined' ? window.webkitRequestAnimationFrame : undefined) || (typeof window !== 'undefined' ? window.mozRequestAnimationFrame : undefined) || (typeof window !== 'undefined' ? window.msRequestAnimationFrame : undefined) || _delay_animation; // Returns a function, that, when invoked, will only be triggered at\n// most once during a given window of time.\n//\n// In addition, if the browser supports requestAnimationFrame, the\n// throttled function will be run no more frequently than request\n// animation frame allows.\n//\n// @param func [function] the function to throttle\n// @param wait [number] time in milliseconds to use for window\n// @return [function] throttled function\n//\n\nexport function throttle(func, wait) {\n  let timeout = null;\n  let previous = 0;\n  let pending = false;\n  return function () {\n    return new Promise((resolve, reject) => {\n      const later = function () {\n        previous = Date.now();\n        timeout = null;\n        pending = false;\n\n        try {\n          func();\n          resolve();\n        } catch (error) {\n          reject(error);\n        }\n      };\n\n      const now = Date.now();\n      const remaining = wait - (now - previous);\n\n      if (remaining <= 0 && !pending) {\n        if (timeout != null) {\n          clearTimeout(timeout);\n        }\n\n        pending = true;\n        delay_animation(later);\n      } else if (!timeout && !pending) {\n        timeout = setTimeout(() => delay_animation(later), remaining);\n      } else {\n        resolve();\n      }\n    });\n  };\n}","map":{"version":3,"sources":["/Users/gen/Desktop/defund_to_refund/node_modules/@bokeh/bokehjs/build/js/lib/core/util/throttle.js"],"names":["_delay_animation","callback","Date","now","delay_animation","window","requestAnimationFrame","undefined","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","throttle","func","wait","timeout","previous","pending","Promise","resolve","reject","later","error","remaining","clearTimeout","setTimeout"],"mappings":"AAAA,SAASA,gBAAT,CAA0BC,QAA1B,EAAoC;AAChCA,EAAAA,QAAQ,CAACC,IAAI,CAACC,GAAL,EAAD,CAAR,CADgC,CACV;;AACtB,SAAO,CAAC,CAAR;AACH;;AACD,MAAMC,eAAe,GAAG,CAAC,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAM,CAACC,qBAAvC,GAA+DC,SAAhE,MACnB,OAAOF,MAAP,KAAkB,WAAlB,GAAgCA,MAAM,CAACG,2BAAvC,GAAqED,SADlD,MAEnB,OAAOF,MAAP,KAAkB,WAAlB,GAAgCA,MAAM,CAACI,wBAAvC,GAAkEF,SAF/C,MAGnB,OAAOF,MAAP,KAAkB,WAAlB,GAAgCA,MAAM,CAACK,uBAAvC,GAAiEH,SAH9C,KAG4DP,gBAHpF,C,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASW,QAAT,CAAkBC,IAAlB,EAAwBC,IAAxB,EAA8B;AACjC,MAAIC,OAAO,GAAG,IAAd;AACA,MAAIC,QAAQ,GAAG,CAAf;AACA,MAAIC,OAAO,GAAG,KAAd;AACA,SAAO,YAAY;AACf,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,YAAMC,KAAK,GAAG,YAAY;AACtBL,QAAAA,QAAQ,GAAGb,IAAI,CAACC,GAAL,EAAX;AACAW,QAAAA,OAAO,GAAG,IAAV;AACAE,QAAAA,OAAO,GAAG,KAAV;;AACA,YAAI;AACAJ,UAAAA,IAAI;AACJM,UAAAA,OAAO;AACV,SAHD,CAIA,OAAOG,KAAP,EAAc;AACVF,UAAAA,MAAM,CAACE,KAAD,CAAN;AACH;AACJ,OAXD;;AAYA,YAAMlB,GAAG,GAAGD,IAAI,CAACC,GAAL,EAAZ;AACA,YAAMmB,SAAS,GAAGT,IAAI,IAAIV,GAAG,GAAGY,QAAV,CAAtB;;AACA,UAAIO,SAAS,IAAI,CAAb,IAAkB,CAACN,OAAvB,EAAgC;AAC5B,YAAIF,OAAO,IAAI,IAAf,EAAqB;AACjBS,UAAAA,YAAY,CAACT,OAAD,CAAZ;AACH;;AACDE,QAAAA,OAAO,GAAG,IAAV;AACAZ,QAAAA,eAAe,CAACgB,KAAD,CAAf;AACH,OAND,MAOK,IAAI,CAACN,OAAD,IAAY,CAACE,OAAjB,EAA0B;AAC3BF,QAAAA,OAAO,GAAGU,UAAU,CAAC,MAAMpB,eAAe,CAACgB,KAAD,CAAtB,EAA+BE,SAA/B,CAApB;AACH,OAFI,MAGA;AACDJ,QAAAA,OAAO;AACV;AACJ,KA5BM,CAAP;AA6BH,GA9BD;AA+BH","sourcesContent":["function _delay_animation(callback) {\n    callback(Date.now()); // XXX: performance.now()\n    return -1;\n}\nconst delay_animation = (typeof window !== 'undefined' ? window.requestAnimationFrame : undefined) ||\n    (typeof window !== 'undefined' ? window.webkitRequestAnimationFrame : undefined) ||\n    (typeof window !== 'undefined' ? window.mozRequestAnimationFrame : undefined) ||\n    (typeof window !== 'undefined' ? window.msRequestAnimationFrame : undefined) || _delay_animation;\n// Returns a function, that, when invoked, will only be triggered at\n// most once during a given window of time.\n//\n// In addition, if the browser supports requestAnimationFrame, the\n// throttled function will be run no more frequently than request\n// animation frame allows.\n//\n// @param func [function] the function to throttle\n// @param wait [number] time in milliseconds to use for window\n// @return [function] throttled function\n//\nexport function throttle(func, wait) {\n    let timeout = null;\n    let previous = 0;\n    let pending = false;\n    return function () {\n        return new Promise((resolve, reject) => {\n            const later = function () {\n                previous = Date.now();\n                timeout = null;\n                pending = false;\n                try {\n                    func();\n                    resolve();\n                }\n                catch (error) {\n                    reject(error);\n                }\n            };\n            const now = Date.now();\n            const remaining = wait - (now - previous);\n            if (remaining <= 0 && !pending) {\n                if (timeout != null) {\n                    clearTimeout(timeout);\n                }\n                pending = true;\n                delay_animation(later);\n            }\n            else if (!timeout && !pending) {\n                timeout = setTimeout(() => delay_animation(later), remaining);\n            }\n            else {\n                resolve();\n            }\n        });\n    };\n}\n//# sourceMappingURL=throttle.js.map"]},"metadata":{},"sourceType":"module"}