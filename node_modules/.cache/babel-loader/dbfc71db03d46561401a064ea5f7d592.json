{"ast":null,"code":"import proj4 from \"proj4/lib/core\";\nimport Projection from \"proj4/lib/Proj\";\nconst mercator = new Projection('GOOGLE');\nconst wgs84 = new Projection('WGS84');\nexport const wgs84_mercator = proj4(wgs84, mercator);\nconst mercator_bounds = {\n  lon: [-20026376.39, 20026376.39],\n  lat: [-20048966.10, 20048966.10]\n};\nconst latlon_bounds = {\n  lon: [-180, 180],\n  lat: [-85.06, 85.06]\n};\nexport function clip_mercator(low, high, dimension) {\n  const [min, max] = mercator_bounds[dimension];\n  return [Math.max(low, min), Math.min(high, max)];\n}\nexport function in_bounds(value, dimension) {\n  const [min, max] = latlon_bounds[dimension];\n  return min < value && value < max;\n}\nexport function project_xy(x, y) {\n  const n = Math.min(x.length, y.length);\n  const merc_x_s = new Array(n);\n  const merc_y_s = new Array(n);\n\n  for (let i = 0; i < n; i++) {\n    const [merc_x, merc_y] = wgs84_mercator.forward([x[i], y[i]]);\n    merc_x_s[i] = merc_x;\n    merc_y_s[i] = merc_y;\n  }\n\n  return [merc_x_s, merc_y_s];\n}\nexport function project_xsys(xs, ys) {\n  const n = Math.min(xs.length, ys.length);\n  const merc_xs_s = new Array(n);\n  const merc_ys_s = new Array(n);\n\n  for (let i = 0; i < n; i++) {\n    const [merc_x_s, merc_y_s] = project_xy(xs[i], ys[i]);\n    merc_xs_s[i] = merc_x_s;\n    merc_ys_s[i] = merc_y_s;\n  }\n\n  return [merc_xs_s, merc_ys_s];\n}","map":{"version":3,"sources":["/Users/gen/Desktop/defund_to_refund/node_modules/@bokeh/bokehjs/build/js/lib/core/util/projections.js"],"names":["proj4","Projection","mercator","wgs84","wgs84_mercator","mercator_bounds","lon","lat","latlon_bounds","clip_mercator","low","high","dimension","min","max","Math","in_bounds","value","project_xy","x","y","n","length","merc_x_s","Array","merc_y_s","i","merc_x","merc_y","forward","project_xsys","xs","ys","merc_xs_s","merc_ys_s"],"mappings":"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","sourcesContent":["import proj4 from \"proj4/lib/core\";\nimport Projection from \"proj4/lib/Proj\";\nconst mercator = new Projection('GOOGLE');\nconst wgs84 = new Projection('WGS84');\nexport const wgs84_mercator = proj4(wgs84, mercator);\nconst mercator_bounds = {\n    lon: [-20026376.39, 20026376.39],\n    lat: [-20048966.10, 20048966.10],\n};\nconst latlon_bounds = {\n    lon: [-180, 180],\n    lat: [-85.06, 85.06],\n};\nexport function clip_mercator(low, high, dimension) {\n    const [min, max] = mercator_bounds[dimension];\n    return [Math.max(low, min), Math.min(high, max)];\n}\nexport function in_bounds(value, dimension) {\n    const [min, max] = latlon_bounds[dimension];\n    return min < value && value < max;\n}\nexport function project_xy(x, y) {\n    const n = Math.min(x.length, y.length);\n    const merc_x_s = new Array(n);\n    const merc_y_s = new Array(n);\n    for (let i = 0; i < n; i++) {\n        const [merc_x, merc_y] = wgs84_mercator.forward([x[i], y[i]]);\n        merc_x_s[i] = merc_x;\n        merc_y_s[i] = merc_y;\n    }\n    return [merc_x_s, merc_y_s];\n}\nexport function project_xsys(xs, ys) {\n    const n = Math.min(xs.length, ys.length);\n    const merc_xs_s = new Array(n);\n    const merc_ys_s = new Array(n);\n    for (let i = 0; i < n; i++) {\n        const [merc_x_s, merc_y_s] = project_xy(xs[i], ys[i]);\n        merc_xs_s[i] = merc_x_s;\n        merc_ys_s[i] = merc_y_s;\n    }\n    return [merc_xs_s, merc_ys_s];\n}\n//# sourceMappingURL=projections.js.map"]},"metadata":{},"sourceType":"module"}