{"ast":null,"code":"// TODO Clear out debugging code, etc.\n// TODO Organize helper functions.\n// TODO The years ticker doesn't always use the roundest numbers; it should\n// probably use a special ticker.\n// TODO Add tests.\n// TODO There used to be a TODO: restore memoization.  So.... do that?\n// TODO Instead of a get_ticks() method, there used to be an auto_ticks()\n// function that took a lot of fancy arguments, but those arguments weren't\n// used anywhere.  Should we restore them?\n// Some time constants, in milliseconds.\nexport const ONE_MILLI = 1.0;\nexport const ONE_SECOND = 1000.0;\nexport const ONE_MINUTE = 60.0 * ONE_SECOND;\nexport const ONE_HOUR = 60 * ONE_MINUTE;\nexport const ONE_DAY = 24 * ONE_HOUR;\nexport const ONE_MONTH = 30 * ONE_DAY; // An approximation, obviously.\n\nexport const ONE_YEAR = 365 * ONE_DAY; // ---------------------------------------------------------------------------\n// Date/time utility functions\n// ---------------------------------------------------------------------------\n// Makes a copy of a date object.\n\nexport function copy_date(date) {\n  return new Date(date.getTime());\n} // Rounds a date down to the month.\n\nexport function last_month_no_later_than(date) {\n  const new_date = copy_date(date);\n  new_date.setUTCDate(1);\n  new_date.setUTCHours(0);\n  new_date.setUTCMinutes(0);\n  new_date.setUTCSeconds(0);\n  new_date.setUTCMilliseconds(0);\n  return new_date;\n} // Rounds a date down to the year.\n\nexport function last_year_no_later_than(date) {\n  const new_date = last_month_no_later_than(date);\n  new_date.setUTCMonth(0);\n  return new_date;\n}","map":{"version":3,"sources":["/Users/gen/Desktop/defund_to_refund/node_modules/@bokeh/bokehjs/build/js/lib/models/tickers/util.js"],"names":["ONE_MILLI","ONE_SECOND","ONE_MINUTE","ONE_HOUR","ONE_DAY","ONE_MONTH","ONE_YEAR","copy_date","date","Date","getTime","last_month_no_later_than","new_date","setUTCDate","setUTCHours","setUTCMinutes","setUTCSeconds","setUTCMilliseconds","last_year_no_later_than","setUTCMonth"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMA,SAAS,GAAG,GAAlB;AACP,OAAO,MAAMC,UAAU,GAAG,MAAnB;AACP,OAAO,MAAMC,UAAU,GAAG,OAAOD,UAA1B;AACP,OAAO,MAAME,QAAQ,GAAG,KAAKD,UAAtB;AACP,OAAO,MAAME,OAAO,GAAG,KAAKD,QAArB;AACP,OAAO,MAAME,SAAS,GAAG,KAAKD,OAAvB,C,CAAgC;;AACvC,OAAO,MAAME,QAAQ,GAAG,MAAMF,OAAvB,C,CACP;AACA;AACA;AACA;;AACA,OAAO,SAASG,SAAT,CAAmBC,IAAnB,EAAyB;AAC5B,SAAO,IAAIC,IAAJ,CAASD,IAAI,CAACE,OAAL,EAAT,CAAP;AACH,C,CACD;;AACA,OAAO,SAASC,wBAAT,CAAkCH,IAAlC,EAAwC;AAC3C,QAAMI,QAAQ,GAAGL,SAAS,CAACC,IAAD,CAA1B;AACAI,EAAAA,QAAQ,CAACC,UAAT,CAAoB,CAApB;AACAD,EAAAA,QAAQ,CAACE,WAAT,CAAqB,CAArB;AACAF,EAAAA,QAAQ,CAACG,aAAT,CAAuB,CAAvB;AACAH,EAAAA,QAAQ,CAACI,aAAT,CAAuB,CAAvB;AACAJ,EAAAA,QAAQ,CAACK,kBAAT,CAA4B,CAA5B;AACA,SAAOL,QAAP;AACH,C,CACD;;AACA,OAAO,SAASM,uBAAT,CAAiCV,IAAjC,EAAuC;AAC1C,QAAMI,QAAQ,GAAGD,wBAAwB,CAACH,IAAD,CAAzC;AACAI,EAAAA,QAAQ,CAACO,WAAT,CAAqB,CAArB;AACA,SAAOP,QAAP;AACH","sourcesContent":["// TODO Clear out debugging code, etc.\n// TODO Organize helper functions.\n// TODO The years ticker doesn't always use the roundest numbers; it should\n// probably use a special ticker.\n// TODO Add tests.\n// TODO There used to be a TODO: restore memoization.  So.... do that?\n// TODO Instead of a get_ticks() method, there used to be an auto_ticks()\n// function that took a lot of fancy arguments, but those arguments weren't\n// used anywhere.  Should we restore them?\n// Some time constants, in milliseconds.\nexport const ONE_MILLI = 1.0;\nexport const ONE_SECOND = 1000.0;\nexport const ONE_MINUTE = 60.0 * ONE_SECOND;\nexport const ONE_HOUR = 60 * ONE_MINUTE;\nexport const ONE_DAY = 24 * ONE_HOUR;\nexport const ONE_MONTH = 30 * ONE_DAY; // An approximation, obviously.\nexport const ONE_YEAR = 365 * ONE_DAY;\n// ---------------------------------------------------------------------------\n// Date/time utility functions\n// ---------------------------------------------------------------------------\n// Makes a copy of a date object.\nexport function copy_date(date) {\n    return new Date(date.getTime());\n}\n// Rounds a date down to the month.\nexport function last_month_no_later_than(date) {\n    const new_date = copy_date(date);\n    new_date.setUTCDate(1);\n    new_date.setUTCHours(0);\n    new_date.setUTCMinutes(0);\n    new_date.setUTCSeconds(0);\n    new_date.setUTCMilliseconds(0);\n    return new_date;\n}\n// Rounds a date down to the year.\nexport function last_year_no_later_than(date) {\n    const new_date = last_month_no_later_than(date);\n    new_date.setUTCMonth(0);\n    return new_date;\n}\n//# sourceMappingURL=util.js.map"]},"metadata":{},"sourceType":"module"}