{"ast":null,"code":"import { find_last_index } from \"../../core/util/array\";\nimport { Interpolator } from \"./interpolator\";\nexport class LinearInterpolator extends Interpolator {\n  constructor(attrs) {\n    super(attrs);\n  }\n\n  compute(x) {\n    this.sort(false);\n\n    if (this.clip) {\n      if (x < this._x_sorted[0] || x > this._x_sorted[this._x_sorted.length - 1]) return NaN;\n    } else {\n      if (x < this._x_sorted[0]) return this._y_sorted[0];\n      if (x > this._x_sorted[this._x_sorted.length - 1]) return this._y_sorted[this._y_sorted.length - 1];\n    }\n\n    if (x == this._x_sorted[0]) return this._y_sorted[0];\n    const ind = find_last_index(this._x_sorted, num => num < x);\n    const x1 = this._x_sorted[ind];\n    const x2 = this._x_sorted[ind + 1];\n    const y1 = this._y_sorted[ind];\n    const y2 = this._y_sorted[ind + 1];\n    return y1 + (x - x1) / (x2 - x1) * (y2 - y1);\n  }\n\n}\nLinearInterpolator.__name__ = \"LinearInterpolator\";","map":{"version":3,"sources":["/Users/gen/Desktop/defund_to_refund/node_modules/@bokeh/bokehjs/build/js/lib/models/transforms/linear_interpolator.js"],"names":["find_last_index","Interpolator","LinearInterpolator","constructor","attrs","compute","x","sort","clip","_x_sorted","length","NaN","_y_sorted","ind","num","x1","x2","y1","y2","__name__"],"mappings":"AAAA,SAASA,eAAT,QAAgC,uBAAhC;AACA,SAASC,YAAT,QAA6B,gBAA7B;AACA,OAAO,MAAMC,kBAAN,SAAiCD,YAAjC,CAA8C;AACjDE,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACH;;AACDC,EAAAA,OAAO,CAACC,CAAD,EAAI;AACP,SAAKC,IAAL,CAAU,KAAV;;AACA,QAAI,KAAKC,IAAT,EAAe;AACX,UAAIF,CAAC,GAAG,KAAKG,SAAL,CAAe,CAAf,CAAJ,IAAyBH,CAAC,GAAG,KAAKG,SAAL,CAAe,KAAKA,SAAL,CAAeC,MAAf,GAAwB,CAAvC,CAAjC,EACI,OAAOC,GAAP;AACP,KAHD,MAIK;AACD,UAAIL,CAAC,GAAG,KAAKG,SAAL,CAAe,CAAf,CAAR,EACI,OAAO,KAAKG,SAAL,CAAe,CAAf,CAAP;AACJ,UAAIN,CAAC,GAAG,KAAKG,SAAL,CAAe,KAAKA,SAAL,CAAeC,MAAf,GAAwB,CAAvC,CAAR,EACI,OAAO,KAAKE,SAAL,CAAe,KAAKA,SAAL,CAAeF,MAAf,GAAwB,CAAvC,CAAP;AACP;;AACD,QAAIJ,CAAC,IAAI,KAAKG,SAAL,CAAe,CAAf,CAAT,EACI,OAAO,KAAKG,SAAL,CAAe,CAAf,CAAP;AACJ,UAAMC,GAAG,GAAGb,eAAe,CAAC,KAAKS,SAAN,EAAiBK,GAAG,IAAIA,GAAG,GAAGR,CAA9B,CAA3B;AACA,UAAMS,EAAE,GAAG,KAAKN,SAAL,CAAeI,GAAf,CAAX;AACA,UAAMG,EAAE,GAAG,KAAKP,SAAL,CAAeI,GAAG,GAAG,CAArB,CAAX;AACA,UAAMI,EAAE,GAAG,KAAKL,SAAL,CAAeC,GAAf,CAAX;AACA,UAAMK,EAAE,GAAG,KAAKN,SAAL,CAAeC,GAAG,GAAG,CAArB,CAAX;AACA,WAAOI,EAAE,GAAK,CAACX,CAAC,GAAGS,EAAL,KAAYC,EAAE,GAAGD,EAAjB,CAAD,IAA0BG,EAAE,GAAGD,EAA/B,CAAb;AACH;;AAxBgD;AA0BrDf,kBAAkB,CAACiB,QAAnB,GAA8B,oBAA9B","sourcesContent":["import { find_last_index } from \"../../core/util/array\";\nimport { Interpolator } from \"./interpolator\";\nexport class LinearInterpolator extends Interpolator {\n    constructor(attrs) {\n        super(attrs);\n    }\n    compute(x) {\n        this.sort(false);\n        if (this.clip) {\n            if (x < this._x_sorted[0] || x > this._x_sorted[this._x_sorted.length - 1])\n                return NaN;\n        }\n        else {\n            if (x < this._x_sorted[0])\n                return this._y_sorted[0];\n            if (x > this._x_sorted[this._x_sorted.length - 1])\n                return this._y_sorted[this._y_sorted.length - 1];\n        }\n        if (x == this._x_sorted[0])\n            return this._y_sorted[0];\n        const ind = find_last_index(this._x_sorted, num => num < x);\n        const x1 = this._x_sorted[ind];\n        const x2 = this._x_sorted[ind + 1];\n        const y1 = this._y_sorted[ind];\n        const y2 = this._y_sorted[ind + 1];\n        return y1 + (((x - x1) / (x2 - x1)) * (y2 - y1));\n    }\n}\nLinearInterpolator.__name__ = \"LinearInterpolator\";\n//# sourceMappingURL=linear_interpolator.js.map"]},"metadata":{},"sourceType":"module"}