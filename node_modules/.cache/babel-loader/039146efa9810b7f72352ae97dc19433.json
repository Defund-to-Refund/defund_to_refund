{"ast":null,"code":"import { BasicTickFormatter } from \"./basic_tick_formatter\";\nimport * as p from \"../../core/properties\";\nimport { wgs84_mercator } from \"../../core/util/projections\";\nexport class MercatorTickFormatter extends BasicTickFormatter {\n  constructor(attrs) {\n    super(attrs);\n  }\n\n  static init_MercatorTickFormatter() {\n    this.define({\n      dimension: [p.LatLon]\n    });\n  }\n\n  doFormat(ticks, opts) {\n    if (this.dimension == null) throw new Error(\"MercatorTickFormatter.dimension not configured\");\n    if (ticks.length == 0) return [];\n    const n = ticks.length;\n    const proj_ticks = new Array(n);\n\n    if (this.dimension == \"lon\") {\n      for (let i = 0; i < n; i++) {\n        const [lon] = wgs84_mercator.inverse([ticks[i], opts.loc]);\n        proj_ticks[i] = lon;\n      }\n    } else {\n      for (let i = 0; i < n; i++) {\n        const [, lat] = wgs84_mercator.inverse([opts.loc, ticks[i]]);\n        proj_ticks[i] = lat;\n      }\n    }\n\n    return super.doFormat(proj_ticks, opts);\n  }\n\n}\nMercatorTickFormatter.__name__ = \"MercatorTickFormatter\";\nMercatorTickFormatter.init_MercatorTickFormatter();","map":{"version":3,"sources":["/Users/gen/Desktop/defund_to_refund/node_modules/@bokeh/bokehjs/build/js/lib/models/formatters/mercator_tick_formatter.js"],"names":["BasicTickFormatter","p","wgs84_mercator","MercatorTickFormatter","constructor","attrs","init_MercatorTickFormatter","define","dimension","LatLon","doFormat","ticks","opts","Error","length","n","proj_ticks","Array","i","lon","inverse","loc","lat","__name__"],"mappings":"AAAA,SAASA,kBAAT,QAAmC,wBAAnC;AACA,OAAO,KAAKC,CAAZ,MAAmB,uBAAnB;AACA,SAASC,cAAT,QAA+B,6BAA/B;AACA,OAAO,MAAMC,qBAAN,SAAoCH,kBAApC,CAAuD;AAC1DI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACH;;AACD,SAAOC,0BAAP,GAAoC;AAChC,SAAKC,MAAL,CAAY;AACRC,MAAAA,SAAS,EAAE,CAACP,CAAC,CAACQ,MAAH;AADH,KAAZ;AAGH;;AACDC,EAAAA,QAAQ,CAACC,KAAD,EAAQC,IAAR,EAAc;AAClB,QAAI,KAAKJ,SAAL,IAAkB,IAAtB,EACI,MAAM,IAAIK,KAAJ,CAAU,gDAAV,CAAN;AACJ,QAAIF,KAAK,CAACG,MAAN,IAAgB,CAApB,EACI,OAAO,EAAP;AACJ,UAAMC,CAAC,GAAGJ,KAAK,CAACG,MAAhB;AACA,UAAME,UAAU,GAAG,IAAIC,KAAJ,CAAUF,CAAV,CAAnB;;AACA,QAAI,KAAKP,SAAL,IAAkB,KAAtB,EAA6B;AACzB,WAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,CAApB,EAAuBG,CAAC,EAAxB,EAA4B;AACxB,cAAM,CAACC,GAAD,IAAQjB,cAAc,CAACkB,OAAf,CAAuB,CAACT,KAAK,CAACO,CAAD,CAAN,EAAWN,IAAI,CAACS,GAAhB,CAAvB,CAAd;AACAL,QAAAA,UAAU,CAACE,CAAD,CAAV,GAAgBC,GAAhB;AACH;AACJ,KALD,MAMK;AACD,WAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,CAApB,EAAuBG,CAAC,EAAxB,EAA4B;AACxB,cAAM,GAAGI,GAAH,IAAUpB,cAAc,CAACkB,OAAf,CAAuB,CAACR,IAAI,CAACS,GAAN,EAAWV,KAAK,CAACO,CAAD,CAAhB,CAAvB,CAAhB;AACAF,QAAAA,UAAU,CAACE,CAAD,CAAV,GAAgBI,GAAhB;AACH;AACJ;;AACD,WAAO,MAAMZ,QAAN,CAAeM,UAAf,EAA2BJ,IAA3B,CAAP;AACH;;AA7ByD;AA+B9DT,qBAAqB,CAACoB,QAAtB,GAAiC,uBAAjC;AACApB,qBAAqB,CAACG,0BAAtB","sourcesContent":["import { BasicTickFormatter } from \"./basic_tick_formatter\";\nimport * as p from \"../../core/properties\";\nimport { wgs84_mercator } from \"../../core/util/projections\";\nexport class MercatorTickFormatter extends BasicTickFormatter {\n    constructor(attrs) {\n        super(attrs);\n    }\n    static init_MercatorTickFormatter() {\n        this.define({\n            dimension: [p.LatLon],\n        });\n    }\n    doFormat(ticks, opts) {\n        if (this.dimension == null)\n            throw new Error(\"MercatorTickFormatter.dimension not configured\");\n        if (ticks.length == 0)\n            return [];\n        const n = ticks.length;\n        const proj_ticks = new Array(n);\n        if (this.dimension == \"lon\") {\n            for (let i = 0; i < n; i++) {\n                const [lon] = wgs84_mercator.inverse([ticks[i], opts.loc]);\n                proj_ticks[i] = lon;\n            }\n        }\n        else {\n            for (let i = 0; i < n; i++) {\n                const [, lat] = wgs84_mercator.inverse([opts.loc, ticks[i]]);\n                proj_ticks[i] = lat;\n            }\n        }\n        return super.doFormat(proj_ticks, opts);\n    }\n}\nMercatorTickFormatter.__name__ = \"MercatorTickFormatter\";\nMercatorTickFormatter.init_MercatorTickFormatter();\n//# sourceMappingURL=mercator_tick_formatter.js.map"]},"metadata":{},"sourceType":"module"}