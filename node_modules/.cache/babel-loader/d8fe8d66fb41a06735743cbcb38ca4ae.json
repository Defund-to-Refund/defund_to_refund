{"ast":null,"code":"import { BasicTicker } from \"./basic_ticker\";\nimport * as p from \"../../core/properties\";\nimport { wgs84_mercator, clip_mercator, in_bounds } from \"../../core/util/projections\";\nexport class MercatorTicker extends BasicTicker {\n  constructor(attrs) {\n    super(attrs);\n  }\n\n  static init_MercatorTicker() {\n    this.define({\n      dimension: [p.LatLon]\n    });\n  }\n\n  get_ticks_no_defaults(data_low, data_high, cross_loc, desired_n_ticks) {\n    if (this.dimension == null) {\n      throw new Error(\"MercatorTicker.dimension not configured\");\n    }\n\n    [data_low, data_high] = clip_mercator(data_low, data_high, this.dimension);\n    let proj_low, proj_high, proj_cross_loc;\n\n    if (this.dimension === \"lon\") {\n      [proj_low, proj_cross_loc] = wgs84_mercator.inverse([data_low, cross_loc]); // lgtm [js/useless-assignment-to-local]\n\n      [proj_high, proj_cross_loc] = wgs84_mercator.inverse([data_high, cross_loc]);\n    } else {\n      [proj_cross_loc, proj_low] = wgs84_mercator.inverse([cross_loc, data_low]); // lgtm [js/useless-assignment-to-local]\n\n      [proj_cross_loc, proj_high] = wgs84_mercator.inverse([cross_loc, data_high]);\n    }\n\n    const proj_ticks = super.get_ticks_no_defaults(proj_low, proj_high, cross_loc, desired_n_ticks);\n    const major = [];\n    const minor = [];\n\n    if (this.dimension === \"lon\") {\n      for (const tick of proj_ticks.major) {\n        if (in_bounds(tick, 'lon')) {\n          const [lon] = wgs84_mercator.forward([tick, proj_cross_loc]);\n          major.push(lon);\n        }\n      }\n\n      for (const tick of proj_ticks.minor) {\n        if (in_bounds(tick, 'lon')) {\n          const [lon] = wgs84_mercator.forward([tick, proj_cross_loc]);\n          minor.push(lon);\n        }\n      }\n    } else {\n      for (const tick of proj_ticks.major) {\n        if (in_bounds(tick, 'lat')) {\n          const [, lat] = wgs84_mercator.forward([proj_cross_loc, tick]);\n          major.push(lat);\n        }\n      }\n\n      for (const tick of proj_ticks.minor) {\n        if (in_bounds(tick, 'lat')) {\n          const [, lat] = wgs84_mercator.forward([proj_cross_loc, tick]);\n          minor.push(lat);\n        }\n      }\n    }\n\n    return {\n      major,\n      minor\n    };\n  }\n\n}\nMercatorTicker.__name__ = \"MercatorTicker\";\nMercatorTicker.init_MercatorTicker();","map":{"version":3,"sources":["/Users/gen/Desktop/defund_to_refund/node_modules/@bokeh/bokehjs/build/js/lib/models/tickers/mercator_ticker.js"],"names":["BasicTicker","p","wgs84_mercator","clip_mercator","in_bounds","MercatorTicker","constructor","attrs","init_MercatorTicker","define","dimension","LatLon","get_ticks_no_defaults","data_low","data_high","cross_loc","desired_n_ticks","Error","proj_low","proj_high","proj_cross_loc","inverse","proj_ticks","major","minor","tick","lon","forward","push","lat","__name__"],"mappings":"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","sourcesContent":["import { BasicTicker } from \"./basic_ticker\";\nimport * as p from \"../../core/properties\";\nimport { wgs84_mercator, clip_mercator, in_bounds } from \"../../core/util/projections\";\nexport class MercatorTicker extends BasicTicker {\n    constructor(attrs) {\n        super(attrs);\n    }\n    static init_MercatorTicker() {\n        this.define({\n            dimension: [p.LatLon],\n        });\n    }\n    get_ticks_no_defaults(data_low, data_high, cross_loc, desired_n_ticks) {\n        if (this.dimension == null) {\n            throw new Error(\"MercatorTicker.dimension not configured\");\n        }\n        [data_low, data_high] = clip_mercator(data_low, data_high, this.dimension);\n        let proj_low, proj_high, proj_cross_loc;\n        if (this.dimension === \"lon\") {\n            [proj_low, proj_cross_loc] = wgs84_mercator.inverse([data_low, cross_loc]); // lgtm [js/useless-assignment-to-local]\n            [proj_high, proj_cross_loc] = wgs84_mercator.inverse([data_high, cross_loc]);\n        }\n        else {\n            [proj_cross_loc, proj_low] = wgs84_mercator.inverse([cross_loc, data_low]); // lgtm [js/useless-assignment-to-local]\n            [proj_cross_loc, proj_high] = wgs84_mercator.inverse([cross_loc, data_high]);\n        }\n        const proj_ticks = super.get_ticks_no_defaults(proj_low, proj_high, cross_loc, desired_n_ticks);\n        const major = [];\n        const minor = [];\n        if (this.dimension === \"lon\") {\n            for (const tick of proj_ticks.major) {\n                if (in_bounds(tick, 'lon')) {\n                    const [lon] = wgs84_mercator.forward([tick, proj_cross_loc]);\n                    major.push(lon);\n                }\n            }\n            for (const tick of proj_ticks.minor) {\n                if (in_bounds(tick, 'lon')) {\n                    const [lon] = wgs84_mercator.forward([tick, proj_cross_loc]);\n                    minor.push(lon);\n                }\n            }\n        }\n        else {\n            for (const tick of proj_ticks.major) {\n                if (in_bounds(tick, 'lat')) {\n                    const [, lat] = wgs84_mercator.forward([proj_cross_loc, tick]);\n                    major.push(lat);\n                }\n            }\n            for (const tick of proj_ticks.minor) {\n                if (in_bounds(tick, 'lat')) {\n                    const [, lat] = wgs84_mercator.forward([proj_cross_loc, tick]);\n                    minor.push(lat);\n                }\n            }\n        }\n        return { major, minor };\n    }\n}\nMercatorTicker.__name__ = \"MercatorTicker\";\nMercatorTicker.init_MercatorTicker();\n//# sourceMappingURL=mercator_ticker.js.map"]},"metadata":{},"sourceType":"module"}